<html style='height:100%'>
<head>
    <title>Erachain Crypto Lib</title>
    <script type="text/javascript" src="js/erachainapi.js"></script>
    <script>
        
        async function onLoad() {

            const url = "http://192.168.1.86:9067/api"; // 9067 - TestNET, 9047 - MainNET

            const keys = {
                // sender address: 7GtqHorKL6CDZW6T98C8aGFNJXc87xoivZ
                secretKey: await EraChain.Base58.decode("kiAeqbBDqQ4Qa5X1hdpuWnzmX3GW3i9Bwk81VmNeFkXWhypZnxCYGnPDdTbbBFkgZHQkADowQhatRqYAT72nYrf"),
                publicKey: await EraChain.Base58.decode("6jt933MGNLo8DFEtJX1HXsfu38h21PyWpBRstaNM1Q5q")
            };

            const keyPair = new EraChain.Crypt.KeyPair(keys);

            const recipientPublicKeyOrAddress = "3jPhyhgqry3J95PHRLmH27UhKvn93y3x6Z748uv2vKoH";
            // recipient address: 7GEebDVKj9eW1udSNqpAXJr8TMJR3HPsXK
            const head = "Заголовок";
            const message = "Здравствуй, Мир!";
            const encrypted = true;
            const rpcPort = 9066; // 9066 - TestNET, 9046 - MainNET

            const asset = {
                assetKey: 2,
                amount: 5,
            };

            const api = new EraChain.API(url, rpcPort);

            api.sendAsset(url, keyPair, asset, recipientPublicKeyOrAddress, head, message, encrypted)
                .then(data => {
                    // data = {status: "ok"}
                    console.log(data);
                })
                .catch(e => {
                    console.log(e);
                })
            
        }

    </script>

</head>

<body onload="onLoad()">
    
</body>
