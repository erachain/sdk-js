<html style='height:100%'>
<head>
    <title>Erachain Crypto Lib</title>
    <script type="text/javascript" src="js/erachainapi.js"></script>
    <script>
        
        async function onLoad() {

            const url = "http://192.168.1.86:9067/api"; // 9067 - TestNET, 9047 - MainNET

            const keys = {
                // sender address: 7GtqHorKL6CDZW6T98C8aGFNJXc87xoivZ
                secretKey: await EraChain.Base58.decode("5a4AabYQ54gdwYq83FNng96BTzzSL6bTxALcRFe9VZboLfzaUToZFnAdMsnNKM13NJZeCMJbykfQbNT9vryyhF4R"),
                publicKey: await EraChain.Base58.decode("ESx4g78k72URJWW87M4vKbMCqQpChzLfQ5s8gJhsjB7B")
            };

            const keyPair = new EraChain.Crypt.KeyPair(keys);

            const recipientPublicKeyOrAddress = "2fGQhMDrZdeKnT83wFhjNVhJ7LrNA8faRzsfuihaN2T6";
            // recipient address: 7GEebDVKj9eW1udSNqpAXJr8TMJR3HPsXK
            const head = "Заголовок";
            const message = "Здравствуй, Мир!";
            const encrypted = true;
            const rpcPort = 9066; // 9066 - TestNET, 9046 - MainNET

            const asset = {
                assetKey: 2,
                amount: 0.0001,
            };

            EraChain.Tran.sendAsset(url, keyPair, asset, recipientPublicKeyOrAddress, head, message, encrypted, rpcPort)
                .then(data => {
                    // data = {status: "ok"}
                    console.log(data);
                })
                .catch(e => {
                    console.log(e);
                })
            
        }

    </script>

</head>

<body onload="onLoad()">
    
</body>
